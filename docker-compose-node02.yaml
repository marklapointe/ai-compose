services:
  starrocks-fe-01:
    restart: unless-stopped
    image: starrocks/fe-ubuntu:latest
    hostname: starrocks-fe-01.iambsd.org
    container_name: starrocks-fe-01
    command:
      - /bin/bash
      - -c
      - |
        ( cp -R  /overlay/fe/* / && HOST_TYPE=FQDN /opt/starrocks/fe_entrypoint.sh starrocks-fe-00 starrocks-fe-01 starrocks-fe-02 starrocks-fe-03 )
    environment:
      - HOST_TYPE=FQDN
      - TZ=America/Toronto
    ports:
      - "99.122.154.163:8030:8030"
      - "99.122.154.163:9020:9020"
      - "99.122.154.163:9030:9030"
      - "99.122.154.163:9010:9010"
      - "99.122.154.163:6090:6090"
      - "2600:1700:14e0:16a0:aaaa::2:8030:8030"
      - "2600:1700:14e0:16a0:aaaa::2:9020:9020"
      - "2600:1700:14e0:16a0:aaaa::2:9030:9030"
      - "2600:1700:14e0:16a0:aaaa::2:9010:9010"
      - "2600:1700:14e0:16a0:aaaa::2:6090:6090"
    volumes:
       - ./data/starrocks/fe01_data:/opt/starrocks/fe/meta
       - ./starrocks:/overlay
    dns:
      - 8.8.8.8
      - 8.8.4.4
      - 1.1.1.1
      - 1.0.0.1
      - 2001:4860:4860::8888
      - 2001:4860:4860::8844
      - 2606:4700::1111
      - 2606:4700::1001
  starrocks-fe-03:
    restart: unless-stopped
    image: starrocks/fe-ubuntu:latest
    hostname: starrocks-fe-03.iambsd.org
    container_name: starrocks-fe-03
    command:
      - /bin/bash
      - -c
      - |
        ( cp -R  /overlay/fe/* / && HOST_TYPE=FQDN /opt/starrocks/fe_entrypoint.sh starrocks-fe-00 starrocks-fe-01 starrocks-fe-02 starrocks-fe-03 )
    environment:
      - HOST_TYPE=FQDN
      - TZ=America/Toronto
    ports:
      - "99.122.154.165:8030:8030"
      - "99.122.154.165:9020:9020"
      - "99.122.154.165:9030:9030"
      - "99.122.154.165:9010:9010"
      - "99.122.154.165:6090:6090"
      - "2600:1700:14e0:16a0:aaaa::4:8030:8030"
      - "2600:1700:14e0:16a0:aaaa::4:9020:9020"
      - "2600:1700:14e0:16a0:aaaa::4:9030:9030"
      - "2600:1700:14e0:16a0:aaaa::4:9010:9010"
      - "2600:1700:14e0:16a0:aaaa::4:6090:6090"
    volumes:
       - ./data/starrocks/fe03_data:/opt/starrocks/fe/meta
       - ./starrocks:/overlay
    dns:
      - 8.8.8.8
      - 8.8.4.4
      - 1.1.1.1
      - 1.0.0.1
      - 2001:4860:4860::8888
      - 2001:4860:4860::8844
      - 2606:4700::1111
      - 2606:4700::1001


