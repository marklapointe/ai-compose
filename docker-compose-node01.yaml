services:
  starrocks-fe-00:
    restart: unless-stopped
    image: starrocks/fe-ubuntu:latest
    hostname: starrocks-fe-00.iambsd.org
    container_name: starrocks-fe-00
    command:
      - /bin/bash
      - -c
      - |
        ( cp -R  /overlay/fe/* / && HOST_TYPE=FQDN /opt/starrocks/fe_entrypoint.sh starrocks-fe-00 starrocks-fe-01 starrocks-fe-02 starrocks-fe-03 )
    environment:
      - HOST_TYPE=FQDN
      - TZ=America/Toronto
    ports:
      - "99.122.154.162:8030:8030"
      - "99.122.154.162:9020:9020"
      - "99.122.154.162:9030:9030"
      - "99.122.154.162:9010:9010"
      - "99.122.154.162:6090:6090"
      - "2600:1700:14e0:16a0:aaaa::1:8030:8030"
      - "2600:1700:14e0:16a0:aaaa::1:9020:9020"
      - "2600:1700:14e0:16a0:aaaa::1:9030:9030"
      - "2600:1700:14e0:16a0:aaaa::1:9010:9010"
      - "2600:1700:14e0:16a0:aaaa::1:6090:6090"
    volumes:
       - ./data/starrocks/fe00_data:/opt/starrocks/fe/meta
       - ./starrocks:/overlay
    dns:
      - 8.8.8.8
      - 8.8.4.4
      - 1.1.1.1
      - 1.0.0.1
      - 2001:4860:4860::8888
      - 2001:4860:4860::8844
      - 2606:4700::1111
      - 2606:4700::100
  starrocks-fe-02:
    restart: unless-stopped
    image: starrocks/fe-ubuntu:latest
    hostname: starrocks-fe-02.iambsd.org
    container_name: starrocks-fe-02
    command:
      - /bin/bash
      - -c
      - |
        ( cp -R  /overlay/fe/* / && HOST_TYPE=FQDN /opt/starrocks/fe_entrypoint.sh starrocks-fe-00 starrocks-fe-01 starrocks-fe-02 starrocks-fe-03 )
    environment:
      - HOST_TYPE=FQDN
      - TZ=America/Toronto
    ports:
      - "99.122.154.164:8030:8030"
      - "99.122.154.164:9020:9020"
      - "99.122.154.164:9030:9030"
      - "99.122.154.164:9010:9010"
      - "99.122.154.164:6090:6090"
      - "2600:1700:14e0:16a0:aaaa::3:8030:8030"
      - "2600:1700:14e0:16a0:aaaa::3:9020:9020"
      - "2600:1700:14e0:16a0:aaaa::3:9030:9030"
      - "2600:1700:14e0:16a0:aaaa::3:9010:9010"
      - "2600:1700:14e0:16a0:aaaa::3:6090:6090"
    volumes:
       - ./data/starrocks/fe02_data:/opt/starrocks/fe/meta
       - ./starrocks:/overlay
    dns:
      - 8.8.8.8
      - 8.8.4.4
      - 1.1.1.1
      - 1.0.0.1
      - 2001:4860:4860::8888
      - 2001:4860:4860::8844
      - 2606:4700::1111
      - 2606:4700::1001

